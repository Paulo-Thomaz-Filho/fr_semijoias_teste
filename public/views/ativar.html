<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="../assets/images/logo.svg"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../assets/css/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <title>FR Semijoias | Ativar Conta</title>
  </head>
  <body>
    <div
      class="min-vh-100 d-flex align-items-center justify-content-center bg-light px-4"
    >
      <div
        class="card bg-white rounded-4 shadow p-5 w-100 border-0"
        style="max-width: 500px"
      >
        <div class="text-center">
          <img
            src="../assets/images/logo.svg"
            alt="Logo FR Semijoias"
            class="mb-2 logo-login"
          />
        </div>

        <!-- Loading -->
        <div id="loading" class="d-none">
          <div class="spinner"></div>
          <p class="text-center text-muted">Ativando sua conta...</p>
        </div>

        <!-- Sucesso -->
        <div id="success" class="d-none">
          <div class="text-center text-success py-3">
            <svg
              width="100px"
              height="100px"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7 13L10 16L17 9"
                stroke="#198754"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <circle
                cx="12"
                cy="12"
                r="9"
                stroke="#198754"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <h3 class="fw-semibold text-center mb-3">Conta Ativada!</h3>
          <p class="text-center text-muted mb-4">
            Sua conta foi ativada com sucesso. Agora você pode fazer login e
            começar suas compras.
          </p>
          <div class="d-grid">
            <a href="/login" class="btn btn-dark rounded-4 fw-medium px-5 py-2"
              >Fazer Login</a
            >
          </div>
        </div>

        <!-- Erro -->
        <div id="error" class="d-none">
          <div class="text-center text-danger py-3">
            <svg
              width="100px"
              height="100px"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7.95206 16.048L16.0769 7.92297"
                stroke="#dc3545"
                stroke-width="2"
              />
              <path
                d="M16.0914 16.0336L7.90884 7.85101"
                stroke="#dc3545"
                stroke-width="2"
              />
              <path
                d="M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z"
                stroke="#dc3545"
                stroke-width="2"
              />
            </svg>
          </div>
          <h3 class="fw-semibold text-center mb-3">Erro na Ativação</h3>
          <p class="text-center text-muted mb-4" id="error-message">
            Token inválido ou expirado. Por favor, solicite um novo email de
            ativação.
          </p>
          <div class="d-grid gap-2">
            <button
              onclick="mostrarReenviarEmail()"
              class="btn btn-dark rounded-4 fw-medium px-5 py-2"
            >
              Reenviar Email de Ativação
            </button>
            <button
              onclick="mostrarFormulario()"
              class="btn btn-outline-dark rounded-4 fw-medium px-5 py-2"
            >
              Tentar novamente
            </button>
          </div>
        </div>

        <!-- Formulário para reenviar email -->
        <div id="form-reenviar" class="d-none">
          <h3 class="fw-semibold text-center mb-3 mt-4">
            Reenviar Email de Ativação
          </h3>
          <p class="text-center text-muted small mb-4">
            Digite seu e-mail cadastrado para receber um novo código de
            ativação.
          </p>
          <form id="formReenviar">
            <div class="mb-4">
              <input
                type="email"
                class="form-control bg-body-secondary rounded-4 py-2"
                id="emailReenviar"
                name="email"
                placeholder="seu@email.com"
                required
              />
            </div>
            <div class="d-grid gap-2">
              <button
                type="submit"
                class="btn btn-dark rounded-4 fw-medium px-5 py-2"
              >
                Enviar Código de Ativação
              </button>
              <button
                type="button"
                onclick="voltarParaErro()"
                class="btn btn-outline-dark rounded-4 fw-medium px-5 py-2"
              >
                Voltar
              </button>
            </div>
          </form>
          <div id="reenviar-message" class="mt-3"></div>
        </div>

        <!-- Formulário para digitar token manualmente -->
        <div id="form-token" class="d-none">
          <h3 class="fw-semibold text-center mb-3 mt-4">
            Digite o Código de Ativação
          </h3>
          <p class="text-center text-muted small mb-4">
            Digite o código de 6 caracteres que você recebeu por email.
          </p>
          <form id="formAtivacao">
            <div class="mb-4">
              <input
                type="text"
                class="form-control token-input text-center bg-body-secondary text-uppercase rounded-4 py-2"
                id="token"
                name="token"
                placeholder="A1B2C3"
                maxlength="6"
                required
              />
            </div>
            <div class="d-grid gap-2">
              <button
                type="submit"
                class="btn btn-dark rounded-4 fw-medium px-5 py-2"
              >
                Ativar Conta
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="../assets/js/script_ativacao.js"></script>
  </body>
</html>
